<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
        x:Class="Spice86.Views.DebugWindow"
        Title="Debug"
        xmlns:vm="using:Spice86.ViewModels"
        xmlns:converters="clr-namespace:Spice86.Converters"
        Icon="/Icon/Spice86.ico"
        CanResize="True"
        WindowStartupLocation="CenterOwner"
        MinWidth="640" MinHeight="400" Width="800" Height="600">
        <Design.DataContext>
                <vm:DebugViewModel />
        </Design.DataContext>
        <Window.Resources>
                <converters:InvalidNumberToQuestionMarkConverter x:Key="InvalidNumberToQuestionMarkConverter" />
        </Window.Resources>
        <ScrollViewer>
                <Grid RowDefinitions="Auto,Auto, *">
                        <Button Grid.Row="0" HorizontalAlignment="Center" Content="Force Update" Command="{Binding UpdateDataCommand}"></Button>
                        <TextBlock HorizontalAlignment="Center" Grid.Row="1" Text="{Binding LastUpdate, StringFormat='Last update: {0}'}"></TextBlock>
                        <TabControl Grid.Row="2">
                                <TabItem Header="Video Card">
                                        <WrapPanel>
                                                <Grid RowDefinitions="Auto,*" Margin="5">
                                                        <Label HorizontalAlignment="Center" FontWeight="Bold">Dac</Label>
                                                        <WrapPanel Grid.Row="1" Orientation="Vertical">
                                                                <TextBlock Text="{Binding VideoCard.DacReadIndex, StringFormat='ReadIndex: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.DacWriteIndex, StringFormat='WriteIndex: {0:X2}'}"></TextBlock>
                                                        </WrapPanel>
                                                </Grid>
                                                <Grid RowDefinitions="Auto,*" Margin="5">
                                                        <Label HorizontalAlignment="Center" FontWeight="Bold">Graphics</Label>
                                                        <WrapPanel Grid.Row="1" Orientation="Vertical">
                                                                <TextBlock Text="{Binding VideoCard.GraphicsBitMask, StringFormat='BitMask: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.GraphicsColorCompare, StringFormat='ColorCompare: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.GraphicsGraphicsMode, StringFormat='GraphicsMode: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.GraphicsMiscellaneousGraphics, StringFormat='MiscellaneousGraphics: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.GraphicsSetResetExpanded, StringFormat='SetResetExpanded: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.GraphicsColorDontCareExpanded, StringFormat='ColorDontCareExpanded: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.GraphicsEnableSetResetExpanded, StringFormat='EnableSetResetExpanded: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.GraphicsReadMapSelect, StringFormat='ReadMapSelect: {0:X2}'}"></TextBlock>
                                                        </WrapPanel>
                                                </Grid>
                                                <Grid RowDefinitions="Auto,*" Margin="5">
                                                        <Label HorizontalAlignment="Center" FontWeight="Bold">Sequencer</Label>
                                                        <WrapPanel Grid.Row="1" Orientation="Vertical">
                                                                <TextBlock Text="{Binding VideoCard.SequencerReset, StringFormat='Reset: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.SequencerClockingMode, StringFormat='ClockingMode: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.SequencerMapMaskExpanded, StringFormat='MapMaskExpanded: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.SequencerCharacterMapSelect, StringFormat='CharacterMapSelect: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.SequencerSequencerMemoryMode, StringFormat='SequencerMemoryMode: {0:X2}'}"></TextBlock>
                                                        </WrapPanel>
                                                </Grid>
                                                <Grid RowDefinitions="Auto,*" Margin="5">
                                                        <Label HorizontalAlignment="Center" FontWeight="Bold">AttributeController</Label>
                                                        <WrapPanel Grid.Row="1" Orientation="Vertical">
                                                                <TextBlock Text="{Binding VideoCard.AttributeControllerColorSelect, StringFormat='ColorSelect: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.AttributeControllerOverscanColor, StringFormat='OverscanColor: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.AttributeControllerAttributeModeControl, StringFormat='AttributeModeControl: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.AttributeControllerColorPlaneEnable, StringFormat='ColorPlaneEnable: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.AttributeControllerHorizontalPixelPanning, StringFormat='HorizontalPixelPanning: {0:X2}'}"></TextBlock>
                                                        </WrapPanel>
                                                </Grid>
                                                <Grid RowDefinitions="Auto,*" Margin="5">
                                                        <Label HorizontalAlignment="Center" FontWeight="Bold">CRT Controller</Label>
                                                        <WrapPanel Grid.Row="1" Orientation="Vertical">
                                                                <TextBlock Text="{Binding VideoCard.CrtControllerOffset, StringFormat='Offset: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.CrtControllerOverflow, StringFormat='Overflow: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.CrtControllerCursorEnd, StringFormat='CursorEnd: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.CrtControllerCursorLocation, StringFormat='CursorLocation: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.CrtControllerCursorStart, StringFormat='CursorStart: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.CrtControllerHorizontalTotal, StringFormat='HorizontalTotal: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.CrtControllerLineCompare, StringFormat='LineCompare: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.CrtControllerStartAddress, StringFormat='StartAddress: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.CrtControllerUnderlineLocation, StringFormat='UnderlineLocation: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.CrtControllerVerticalTotal, StringFormat='VerticalTotal: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.CrtControllerCrtModeControl, StringFormat='CrtModeControl: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.CrtControllerEndHorizontalBlanking, StringFormat='EndHorizontalBlanking: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.CrtControllerEndHorizontalDisplay, StringFormat='EndHorizontalDisplay: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.CrtControllerEndHorizontalRetrace, StringFormat='EndHorizontalRetrace: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.CrtControllerEndVerticalBlanking, StringFormat='EndVerticalBlanking: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.CrtControllerMaximumScanLine, StringFormat='MaximumScanLine: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.CrtControllerPresetRowScan, StringFormat='PresetRowScan: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.CrtControllerStartHorizontalBlanking, StringFormat='StartHorizontalBlanking: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.CrtControllerStartHorizontalRetrace, StringFormat='StartHorizontalRetrace: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.CrtControllerStartVerticalBlanking, StringFormat='StartVerticalBlanking: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.CrtControllerVerticalDisplayEnd, StringFormat='VerticalDisplayEnd: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.CrtControllerVerticalRetraceEnd, StringFormat='VerticalRetraceEnd: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.CrtControllerVerticalRetraceStart, StringFormat='VerticalRetraceStart: {0:X2}'}"></TextBlock>
                                                        </WrapPanel>
                                                </Grid>
                                                <Grid RowDefinitions="Auto,*" Margin="5">
                                                        <Label HorizontalAlignment="Center" FontWeight="Bold">CurrentMode</Label>
                                                        <WrapPanel Grid.Row="1" Orientation="Vertical">
                                                                <TextBlock Text="{Binding VideoCard.CurrentModeHeight, StringFormat='Height: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.CurrentModeWidth, StringFormat='Width: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.CurrentModeStride, StringFormat='Stride: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.CurrentModeBytePanning, StringFormat='BytePanning: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.CurrentModeFontHeight, StringFormat='FontHeight: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.CurrentModeBitsPerPixel, StringFormat='BitsPerPixel: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.CurrentModeHorizontalPanning, StringFormat='HorizontalPanning: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.CurrentModeIsPlanar, StringFormat='IsPlanar: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.CurrentModeLineCompare, StringFormat='LineCompare: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.CurrentModeMouseWidth, StringFormat='MouseWidth: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.CurrentModeOriginalHeight, StringFormat='OriginalHeight: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.CurrentModePixelHeight, StringFormat='PixelHeight: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.CurrentModeStartOffset, StringFormat='StartOffset: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.CurrentModeActiveDisplayPage, StringFormat='ActiveDisplayPage: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.CurrentModeStartVerticalBlanking, StringFormat='StartVerticalBlanking: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.CurrentModeVideoModeType, StringFormat='VideoModeType: {0:X2}'}"></TextBlock>
                                                        </WrapPanel>
                                                </Grid>
                                                <Grid RowDefinitions="Auto,*" Margin="5">
                                                        <Label HorizontalAlignment="Center" FontWeight="Bold">TextConsole</Label>
                                                        <WrapPanel Grid.Row="1" Orientation="Vertical">
                                                                <TextBlock Text="{Binding VideoCard.TextConsoleHeight, StringFormat='Height: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.TextConsoleWidth, StringFormat='Width: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.TextConsoleAnsiEnabled, StringFormat='AnsiEnabled: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.TextConsoleBackgroundColor, StringFormat='BackgroundColor: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.TextConsoleCursorPosition, StringFormat='CursorPosition: {0}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.TextConsoleForegroundColor, StringFormat='ForegroundColor: {0:X2}'}"></TextBlock>
                                                        </WrapPanel>
                                                </Grid>
                                                <Grid RowDefinitions="Auto,*" Margin="5">
                                                        <Label HorizontalAlignment="Center" FontWeight="Bold">Misc</Label>
                                                        <WrapPanel Grid.Row="1" Orientation="Vertical">
                                                                <TextBlock Text="{Binding VideoCard.DefaultPaletteLoading, StringFormat='DefaultPaletteLoading: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding VideoCard.TotalVramBytes, StringFormat='TotalVramBytes: {0:X2}'}"></TextBlock>
                                                        </WrapPanel>
                                                </Grid>
                                                <Grid RowDefinitions="Auto,*" Margin="5">
                                                        <Label HorizontalAlignment="Center" FontWeight="Bold">VideoBiosInt10Handler</Label>
                                                        <WrapPanel Grid.Row="1" Orientation="Vertical">
                                                                <TextBlock Text="{Binding Machine.VideoBiosInt10HandlerIndex, StringFormat='Int10HandlerIndex: {0:X2}'}"></TextBlock>
                                                                <TextBlock Text="{Binding Machine.VideoBiosInt10HandlerInterruptHandlerSegment, StringFormat='InterruptHandlerSegment: {0:X2}', Converter={StaticResource InvalidNumberToQuestionMarkConverter}}"></TextBlock>
                                                        </WrapPanel>
                                                </Grid>
                                        </WrapPanel>
                                </TabItem>
                        </TabControl>
                </Grid>
        </ScrollViewer>
</Window>
